(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{10:function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=function(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var r=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),s=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[a].concat(s).concat([r]).join("\n")}var i;return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];null!=s&&(n[s]=!0)}for(r=0;r<t.length;r++){var i=t[r];null!=i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),e.push(i))}},e}},11:function(t,e,a){"use strict";function n(t,e){for(var a=[],n={},r=0;r<e.length;r++){var s=e[r],i=s[0],o={id:t+":"+r,css:s[1],media:s[2],sourceMap:s[3]};n[i]?n[i].parts.push(o):a.push(n[i]={id:i,parts:[o]})}return a}a.r(e),a.d(e,"default",function(){return m});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,a,r){c=a,d=r||{};var i=n(t,e);return h(i),function(e){for(var a=[],r=0;r<i.length;r++){var o=i[r];(l=s[o.id]).refs--,a.push(l)}e?h(i=n(t,e)):i=[];for(r=0;r<a.length;r++){var l;if(0===(l=a[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete s[l.id]}}}}function h(t){for(var e=0;e<t.length;e++){var a=t[e],n=s[a.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](a.parts[r]);for(;r<a.parts.length;r++)n.parts.push(b(a.parts[r]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var i=[];for(r=0;r<a.parts.length;r++)i.push(b(a.parts[r]));s[a.id]={id:a.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function b(t){var e,a,n=document.querySelector("style["+f+'~="'+t.id+'"]');if(n){if(c)return u;n.parentNode.removeChild(n)}if(p){var r=l++;n=o||(o=v()),e=C.bind(null,n,r,!1),a=C.bind(null,n,r,!0)}else n=v(),e=function(t,e){var a=e.css,n=e.media,r=e.sourceMap;n&&t.setAttribute("media",n);d.ssrId&&t.setAttribute(f,e.id);r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}var g,y=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function C(t,e,a,n){var r=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var s=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}},128:function(t,e,a){var n=a(230);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(11).default)("393e2298",n,!0,{})},229:function(t,e,a){"use strict";var n=a(128);a.n(n).a},230:function(t,e,a){(t.exports=a(10)(!1)).push([t.i,".btn-create-app{margin-bottom:5px;margin-right:10px}",""])},406:function(t,e,a){"use strict";a.r(e);var n=a(90),r=(a(87),a(76)),s=a(67),i=a(4);function o(t,e,a,n,r,s,i){try{var o=t[s](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(n,r)}function l(t){return function(){var e=this,a=arguments;return new Promise(function(n,r){var s=t.apply(e,a);function i(t){o(s,n,r,i,l,"next",t)}function l(t){o(s,n,r,i,l,"throw",t)}i(void 0)})}}var c={name:"OAuthApps",components:{VueGoodTable:n.a},mixins:[s.a,r.a],data(){return{name:"",callback:"",clients:[],columns:[{field:"id",label:this.$t("user.oauth.id"),type:"number"},{field:"name",label:this.$t("user.oauth.name")},{field:"secret",label:this.$t("user.oauth.secret"),sortable:!1,globalSearchDisabled:!0},{field:"redirect",label:this.$t("user.oauth.redirect"),sortable:!1,globalSearchDisabled:!0},{field:"operations",label:this.$t("admin.operationsTitle"),sortable:!1,globalSearchDisabled:!0}]}},mounted(){this.fetchData()},methods:{fetchData(){var t=this;return l(function*(){t.clients=yield t.$http.get("/oauth/clients")})()},create(){var t=this;return l(function*(){const e=yield t.$http.post("/oauth/clients",{name:t.name,redirect:t.callback});e.id?($("#modal-create").modal("hide"),t.clients.unshift(e)):t.$message.warning(e.message)})()},modifyName(t){var e=this;return l(function*(){let a;try{const{value:n}=yield e.$prompt("",{title:e.$t("user.oauth.name"),inputValue:t.name});a=n}catch(t){return}yield e.modify(t,{name:a})})()},modifyCallback(t){var e=this;return l(function*(){let a;try{const{value:n}=yield e.$prompt("",{title:e.$t("user.oauth.redirect"),inputValue:t.redirect});a=n}catch(t){return}yield e.modify(t,{redirect:a})})()},modify(t,e){var a=this;return l(function*(){const n=new Request("/oauth/clients/".concat(t.id),Object.assign({},i.b,{body:JSON.stringify(Object.assign({name:t.name,redirect:t.redirect},e)),method:"PUT"}));n.headers.set("Content-Type","application/json");const r=yield Object(i.d)(n);r.id?Object.assign(t,e):a.$message.warning(r.message)})()},remove(t){var e=this;return l(function*(){try{yield e.$confirm(e.$t("user.oauth.confirmRemove"),{type:"warning"})}catch(t){return}const a=new Request("/oauth/clients/".concat(t.id),Object.assign({},i.b,{method:"DELETE"}));yield Object(i.d)(a),e.$delete(e.clients,e.clients.findIndex(e=>{let{id:a}=e;return a===t.id}))})()}}},u=(a(229),a(66)),d=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("el-button",{staticClass:"btn-create-app",attrs:{type:"primary","data-toggle":"modal","data-target":"#modal-create"}},[t._v("\n    "+t._s(t.$t("user.oauth.create"))+"\n  ")]),t._v(" "),a("vue-good-table",{attrs:{rows:t.clients,columns:t.columns,"search-options":t.tableOptions.search,"pagination-options":t.tableOptions.pagination,"style-class":"vgt-table striped"},scopedSlots:t._u([{key:"table-row",fn:function(e){return["name"===e.column.field?a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+" \n        "),a("a",{attrs:{title:t.$t("user.oauth.modifyName"),href:"#","data-test":"name"},on:{click:function(a){return t.modifyName(e.row)}}},[a("i",{staticClass:"fas fa-edit btn-edit"})])]):"redirect"===e.column.field?a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+" \n        "),a("a",{attrs:{title:t.$t("user.oauth.modifyUrl"),href:"#","data-test":"callback"},on:{click:function(a){return t.modifyCallback(e.row)}}},[a("i",{staticClass:"fas fa-edit btn-edit"})])]):"operations"===e.column.field?a("span",[a("el-button",{attrs:{type:"danger","data-test":"remove"},on:{click:function(a){return t.remove(e.row)}}},[t._v("\n          "+t._s(t.$t("report.delete"))+"\n        ")])],1):a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+"\n      ")])]}}])}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-create",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0),t._v(" "),a("h4",{directives:[{name:"t",rawName:"v-t",value:"user.oauth.create",expression:"'user.oauth.create'"}],staticClass:"modal-title"})]),t._v(" "),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",{directives:[{name:"t",rawName:"v-t",value:"user.oauth.name",expression:"'user.oauth.name'"}],staticClass:"key"}),t._v(" "),a("td",{staticClass:"value"},[a("el-input",{attrs:{type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),t._v(" "),a("tr",[a("td",{directives:[{name:"t",rawName:"v-t",value:"user.oauth.redirect",expression:"'user.oauth.redirect'"}],staticClass:"key"}),t._v(" "),a("td",{staticClass:"value"},[a("el-input",{attrs:{type:"text"},model:{value:t.callback,callback:function(e){t.callback=e},expression:"callback"}})],1)])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("el-button",{attrs:{"data-dismiss":"modal"}},[t._v(t._s(t.$t("general.close")))]),t._v(" "),a("el-button",{attrs:{type:"primary","data-test":"create"},on:{click:t.create}},[t._v("\n            "+t._s(t.$t("general.submit"))+"\n          ")])],1)])])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);e.default=d.exports},67:function(t,e,a){"use strict";var n=a(0),r=a(2);e.a=n.default.extend({mounted(){r.a("mounted",{el:this.$root.$options.el})}})},76:function(t,e,a){"use strict";var n=a(0);e.a=n.default.extend({data(){return{tableOptions:{search:{enabled:!0,placeholder:this.$t("vendor.datatable.search")},pagination:{enabled:!0,nextLabel:this.$t("vendor.datatable.next"),prevLabel:this.$t("vendor.datatable.prev"),rowsPerPageLabel:this.$t("vendor.datatable.rowsPerPage"),allLabel:this.$t("vendor.datatable.all"),ofLabel:this.$t("vendor.datatable.of")}}}}})}}]);